<div id="word-cloud-categories-container" style="width: 100%; height: 500px;">
  </div>

<script>
  // Datos de las palabras para la nube
  const wordCloudData = [
{{ if isset site.Taxonomies "categories" }}
  {{ if not (eq (len site.Taxonomies.categories) 0) }}
          {{ range $name, $items := site.Taxonomies.categories }}
               { text: "{{ .Page.Title }}", weight: {{ len $items }} },
          {{ end }}
  {{ end }}
{{ end }}

  ];

  // Puedes consolidar y limpiar los datos aquí si es necesario,
  // por ejemplo, eliminando duplicados si usas tags y categories
  // con los mismos nombres o ajustando los pesos.

  // Exporta los datos para que el script externo pueda acceder a ellos.
  // Es una buena práctica usar un espacio de nombres global o pasarlo
  // directamente a la función de inicialización del script.
  window.wordCloudCategoryData = wordCloudData;
</script>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-cloud@1.2.7/build/d3.layout.cloud.js"></script>

<script src="/blog/word-cloud-category-renderer.js"></script>