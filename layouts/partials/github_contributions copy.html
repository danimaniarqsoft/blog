<div class="github-contributions-container">
    <h3 class="text-xl font-semibold mb-4 text-gray-800">My GitHub Contributions</h3>
    <div id="github-contributions-graph" class="w-full overflow-x-auto p-2 bg-gray-50 rounded-lg border border-gray-200 min-h-[160px] flex items-center justify-center">
        <noscript>
            <p class="text-red-500">Please enable JavaScript to view GitHub contributions.</p>
        </noscript>
        <div id="loading-message" class="text-gray-500 text-sm">Loading contributions...</div>
    </div>
</div>

<script src="https://unpkg.com/github-calendar@latest/dist/github-calendar.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css"/>

<script src="https://unpkg.com/tippy.js@6"></script>
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css"/>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Configure your GitHub username here
        const githubUsername = "danimaniarqsoft"; // <-- REPLACE THIS with your GitHub username!

        const graphContainer = document.getElementById('github-contributions-graph');
        const loadingMessage = document.getElementById('loading-message');

        if (githubUsername && graphContainer) {
            if (loadingMessage) {
                loadingMessage.remove(); // Remove loading message once we start
            }

            GitHubCalendar(graphContainer.id, githubUsername, {
                global_stats: false, // Set to true to show global stats below the graph
                responsive: true,
                summary_border: "2px solid #ddd", // Add a subtle border to the year summary
                // You can add more options here, refer to github-calendar documentation
            })
            .then(() => {
                // Initialize tooltips after the calendar is loaded (if tippy.js is present)
                if (typeof tippy !== 'undefined') {
                    tippy('[data-tippy-content]', {
                        animation: 'fade',
                        theme: 'light-border',
                        delay: [50, 0],
                        placement: 'top',
                    });
                }
            })
            .catch(error => {
                console.error("Error loading GitHub contributions:", error);
                if (graphContainer) {
                    graphContainer.innerHTML = `<p class="text-red-500 text-sm">Failed to load contributions. Please check username or try again later.</p>`;
                }
            });
        } else {
            console.error("GitHub username not set or container element not found for contributions graph.");
            if (loadingMessage) {
                loadingMessage.textContent = "Error: Configuration missing or element not found.";
            }
        }
    });
</script>